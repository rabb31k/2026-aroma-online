<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>2026 台灣精油芳療年會 | 光影流芳 五行共生</title>
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500;700&family=Noto+Serif+TC:wght@400;700&display=swap" rel="stylesheet">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            fontFamily: {
              sans: ['Noto Sans TC', 'sans-serif'],
              serif: ['Noto Serif TC', 'serif'],
            },
            animation: {
              'fade-in-up': 'fadeInUp 0.5s ease-out forwards',
              'pulse-slow': 'pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite',
            },
            keyframes: {
              fadeInUp: {
                '0%': { opacity: '0', transform: 'translateY(20px)' },
                '100%': { opacity: '1', transform: 'translateY(0)' },
              }
            }
          }
        }
      }
    </script>

    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <style>
      /* Smooth scrolling */
      html {
        scroll-behavior: smooth;
      }
      /* Custom scrollbar */
      ::-webkit-scrollbar {
        width: 8px;
      }
      ::-webkit-scrollbar-track {
        background: #1a1a1a;
      }
      ::-webkit-scrollbar-thumb {
        background: #4b5563;
        border-radius: 4px;
      }
      ::-webkit-scrollbar-thumb:hover {
        background: #9ca3af;
      }
      
      /* Animation Utilities */
      .animate-fade-in-up {
        animation: fadeInUp 0.5s ease-out forwards;
      }
      
      /* Custom Animations for Hero Blobs */
      @keyframes blob {
        0% { transform: translate(0px, 0px) scale(1); }
        33% { transform: translate(30px, -50px) scale(1.1); }
        66% { transform: translate(-20px, 20px) scale(0.9); }
        100% { transform: translate(0px, 0px) scale(1); }
      }
      .animate-blob {
        animation: blob 7s infinite;
      }
      .animation-delay-2000 {
        animation-delay: 2s;
      }
      .animation-delay-4000 {
        animation-delay: 4s;
      }
    </style>
<script type="importmap">
{
  "imports": {
    "react": "https://aistudiocdn.com/react@^19.2.1",
    "react-dom/": "https://aistudiocdn.com/react-dom@^19.2.1/",
    "react/": "https://aistudiocdn.com/react@^19.2.1/",
    "lucide-react": "https://aistudiocdn.com/lucide-react@^0.556.0",
    "vite": "https://aistudiocdn.com/vite@^7.2.7",
    "@vitejs/plugin-react": "https://aistudiocdn.com/@vitejs/plugin-react@^5.1.2"
  }
}
</script>
</head>
<body class="bg-stone-50 min-h-screen text-stone-800 selection:bg-amber-200 selection:text-amber-900">

    <!-- Navbar -->
    <nav id="navbar" class="fixed top-0 left-0 w-full z-50 transition-all duration-300 bg-transparent py-6">
      <div class="container mx-auto px-6 md:px-12 lg:px-20 flex justify-between items-center text-white">
        <!-- Logo Area -->
        <div class="flex items-center space-x-2 cursor-pointer" onclick="scrollToSection('hero')">
          <div class="bg-gradient-to-tr from-yellow-400 to-amber-600 p-2 rounded-full">
            <i data-lucide="flower-2" class="w-6 h-6 text-white"></i>
          </div>
          <div class="flex flex-col">
             <span class="font-serif text-lg font-bold leading-none tracking-widest">AROMATHERAPY</span>
             <span class="text-[10px] tracking-wider opacity-80">2026 CONFERENCE</span>
          </div>
        </div>

        <!-- Desktop Menu -->
        <div class="hidden md:flex items-center space-x-8">
          <button onclick="scrollToSection('calculator')" class="hover:text-amber-400 transition-colors text-sm tracking-widest">
            生命靈數計算
          </button>
          <button onclick="scrollToSection('exhibition')" class="hover:text-amber-400 transition-colors text-sm tracking-widest">
            線上展覽
          </button>
          <button onclick="scrollToSection('footer')" class="hover:text-amber-400 transition-colors text-sm tracking-widest">
            芳療師分享
          </button>
          <button class="bg-amber-600 hover:bg-amber-700 text-white px-5 py-2 rounded-full text-sm transition-all duration-300 transform hover:scale-105">
            立即報名
          </button>
        </div>

        <!-- Mobile Toggle -->
        <div class="md:hidden">
          <button onclick="toggleMobileMenu()" id="mobile-menu-btn">
            <i data-lucide="menu" id="menu-icon"></i>
          </button>
        </div>
      </div>

      <!-- Mobile Menu -->
      <div id="mobile-menu" class="hidden md:hidden absolute top-full left-0 w-full bg-stone-900 border-t border-stone-800 p-6 flex flex-col space-y-4 shadow-xl">
          <button onclick="scrollToSection('calculator')" class="text-left text-white hover:text-amber-400 py-2">
            生命靈數計算
          </button>
          <button onclick="scrollToSection('exhibition')" class="text-left text-white hover:text-amber-400 py-2">
            線上展覽
          </button>
          <button onclick="scrollToSection('footer')" class="text-left text-white hover:text-amber-400 py-2">
            芳療師分享
          </button>
      </div>
    </nav>

    <main>
        <!-- Hero Section -->
        <section id="hero" class="relative w-full min-h-screen flex items-center justify-center overflow-hidden bg-stone-900">
            <!-- Background Image with Overlay -->
            <div class="absolute inset-0 z-0">
                <img
                src="https://picsum.photos/id/132/1920/1080"
                alt="Background"
                class="w-full h-full object-cover opacity-60"
                />
                <!-- Gradient Overlay -->
                <div class="absolute inset-0 bg-gradient-to-br from-stone-900 via-amber-900/40 to-emerald-900/60 mix-blend-overlay"></div>
                <div class="absolute inset-0 bg-gradient-to-b from-transparent via-stone-900/20 to-stone-900"></div>
                
                <!-- Animated Particles/Orbs -->
                <div class="absolute top-1/4 left-1/4 w-96 h-96 bg-amber-500/20 rounded-full blur-[100px] animate-pulse-slow"></div>
                <div class="absolute bottom-1/4 right-1/4 w-96 h-96 bg-emerald-500/20 rounded-full blur-[100px] animate-pulse-slow animation-delay-2000"></div>
            </div>

            <div class="relative z-10 container mx-auto px-6 md:px-12 lg:px-20 grid md:grid-cols-2 gap-12 items-center h-full pt-20">
                <div class="space-y-8">
                <!-- Participant Counter -->
                <div class="flex items-center space-x-3 bg-white/10 backdrop-blur-md w-fit px-4 py-2 rounded-full border border-white/10">
                    <div class="flex -space-x-2">
                    <div class="w-8 h-8 rounded-full bg-emerald-400 flex items-center justify-center border-2 border-stone-800"><i data-lucide="user" class="w-4 h-4 text-white"></i></div>
                    <div class="w-8 h-8 rounded-full bg-amber-400 flex items-center justify-center border-2 border-stone-800"><i data-lucide="users" class="w-4 h-4 text-white"></i></div>
                    <div class="w-8 h-8 rounded-full bg-blue-400 flex items-center justify-center border-2 border-stone-800"><i data-lucide="user-plus" class="w-4 h-4 text-white"></i></div>
                    </div>
                    <span class="text-white text-sm font-medium">已有 <span class="text-amber-400 font-bold">2,680</span> 位芳療師參與體驗</span>
                </div>

                <!-- Main Typography -->
                <div class="space-y-4">
                    <h1 class="text-5xl sm:text-6xl md:text-7xl lg:text-8xl font-serif text-white font-bold leading-tight drop-shadow-lg">
                    <span class="block mb-2 text-transparent bg-clip-text bg-gradient-to-r from-white to-amber-100">光影流芳</span>
                    <span class="block text-transparent bg-clip-text bg-gradient-to-r from-amber-200 to-emerald-200">五行共生</span>
                    </h1>
                    <p class="text-lg sm:text-xl md:text-2xl text-amber-100/80 tracking-widest font-light">
                    2026 台灣精油芳療年會
                    </p>
                </div>

                <!-- CTA -->
                <button 
                    onclick="scrollToSection('calculator')"
                    class="group bg-gradient-to-r from-amber-600 to-amber-700 hover:from-amber-500 hover:to-amber-600 text-white px-8 py-4 rounded-full text-lg font-bold tracking-wider shadow-lg shadow-amber-900/50 transition-all duration-300 flex items-center gap-2 transform hover:-translate-y-1"
                >
                    開始探索你的五行能量
                    <i data-lucide="chevron-down" class="w-5 h-5 group-hover:translate-y-1 transition-transform"></i>
                </button>
                </div>

                <!-- Right Side Glass Card -->
                <div class="hidden md:block">
                <div class="bg-white/10 backdrop-blur-lg border border-white/20 p-8 rounded-3xl text-white/90 shadow-2xl max-w-md ml-auto transform rotate-1 hover:rotate-0 transition-transform duration-500">
                    <p class="text-lg leading-relaxed font-light">
                    每個人都有專屬的五行能量密碼，透過生命靈數，找到你與精油的共振頻率。在光影交織中，感受<span class="text-emerald-300 font-medium">木的生發</span>、<span class="text-red-300 font-medium">火的熱情</span>、<span className="text-yellow-300 font-medium">土的穩定</span>、<span className="text-gray-300 font-medium">金的收斂</span>、<span className="text-blue-300 font-medium">水的流動</span>。
                    </p>
                </div>
                </div>
            </div>

            <!-- Scroll Indicator -->
            <div class="absolute bottom-8 left-1/2 -translate-x-1/2 text-white/50 flex flex-col items-center animate-bounce">
                <span class="text-xs tracking-widest mb-2">向下探索</span>
                <i data-lucide="chevron-down" class="w-6 h-6"></i>
            </div>
        </section>

        <!-- Calculator Section -->
        <section id="calculator" class="py-24 bg-stone-50 overflow-hidden relative">
            <!-- Decorative Background Elements -->
            <div class="absolute top-0 right-0 w-64 h-64 bg-emerald-100/50 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 animate-blob"></div>
            <div class="absolute bottom-0 left-0 w-96 h-96 bg-amber-100/50 rounded-full blur-3xl translate-y-1/2 -translate-x-1/2 animate-blob animation-delay-2000"></div>

            <div class="container mx-auto px-6 md:px-12 lg:px-20 relative z-10">
                <div class="flex flex-col items-center mb-16">
                    <h2 class="text-6xl md:text-9xl font-serif text-stone-800 opacity-10 absolute top-[-40px] select-none">01</h2>
                    <h2 class="text-4xl md:text-5xl font-serif font-bold text-stone-800 mb-4 relative">生命靈數計算</h2>
                    <div class="w-24 h-1 bg-gradient-to-r from-emerald-500 to-amber-500"></div>
                </div>

                <div class="grid md:grid-cols-2 gap-12 lg:gap-24 items-center max-w-6xl mx-auto">
                    <!-- Input Area -->
                    <div class="bg-white p-8 md:p-12 rounded-3xl shadow-xl shadow-stone-200/50 border border-stone-100">
                        <h3 class="text-xl text-stone-600 mb-8 font-medium">請選擇您的西元出生日期</h3>
                        
                        <div class="space-y-6">
                            <div class="space-y-2">
                                <label class="text-sm text-stone-500 font-medium tracking-wide">年份</label>
                                <div class="relative">
                                    <select id="calc-year" class="w-full bg-stone-50 border border-stone-200 rounded-xl px-4 py-3 appearance-none focus:outline-none focus:ring-2 focus:ring-emerald-500 transition-all text-stone-700">
                                        <option value="" disabled selected>選擇年份</option>
                                        <!-- JS populated -->
                                    </select>
                                    <i data-lucide="chevron-down" class="absolute right-4 top-1/2 -translate-y-1/2 text-stone-400 w-5 h-5 pointer-events-none"></i>
                                </div>
                            </div>

                            <div class="space-y-2">
                                <label class="text-sm text-stone-500 font-medium tracking-wide">月份</label>
                                <div class="relative">
                                    <select id="calc-month" class="w-full bg-stone-50 border border-stone-200 rounded-xl px-4 py-3 appearance-none focus:outline-none focus:ring-2 focus:ring-emerald-500 transition-all text-stone-700">
                                        <option value="" disabled selected>選擇月份</option>
                                        <!-- JS populated -->
                                    </select>
                                    <i data-lucide="chevron-down" class="absolute right-4 top-1/2 -translate-y-1/2 text-stone-400 w-5 h-5 pointer-events-none"></i>
                                </div>
                            </div>

                            <div class="space-y-2">
                                <label class="text-sm text-stone-500 font-medium tracking-wide">日期</label>
                                <div class="relative">
                                    <select id="calc-day" class="w-full bg-stone-50 border border-stone-200 rounded-xl px-4 py-3 appearance-none focus:outline-none focus:ring-2 focus:ring-emerald-500 transition-all text-stone-700">
                                        <option value="" disabled selected>選擇日期</option>
                                        <!-- JS populated -->
                                    </select>
                                    <i data-lucide="chevron-down" class="absolute right-4 top-1/2 -translate-y-1/2 text-stone-400 w-5 h-5 pointer-events-none"></i>
                                </div>
                            </div>

                            <button id="calc-btn" onclick="calculateLifePath()" disabled
                                class="w-full bg-emerald-700 hover:bg-emerald-800 disabled:bg-stone-300 disabled:cursor-not-allowed text-white font-bold py-4 rounded-xl transition-all duration-300 shadow-lg shadow-emerald-900/20 mt-4"
                            >
                                計算我的五行屬性
                            </button>
                        </div>
                        
                        <p class="text-center text-xs text-stone-400 mt-4">計算結果將即時顯示在右側（或下方）</p>
                    </div>

                    <!-- Result Area -->
                    <div id="result-container" class="flex flex-col items-center justify-center min-h-[400px]">
                        <!-- Default/Empty State -->
                        <div id="result-empty" class="text-center space-y-8 opacity-50">
                            <div class="flex gap-4 justify-center">
                                <div class="w-12 h-12 rounded-full flex items-center justify-center border-2 border-dashed border-stone-300"><div class="w-full h-full rounded-full animate-pulse bg-stone-200"></div></div>
                                <div class="w-12 h-12 rounded-full flex items-center justify-center border-2 border-dashed border-stone-300"><div class="w-full h-full rounded-full animate-pulse bg-stone-200"></div></div>
                                <div class="w-12 h-12 rounded-full flex items-center justify-center border-2 border-solid bg-stone-200 scale-125"><div class="w-full h-full rounded-full animate-pulse bg-stone-200"></div></div>
                                <div class="w-12 h-12 rounded-full flex items-center justify-center border-2 border-dashed border-stone-300"><div class="w-full h-full rounded-full animate-pulse bg-stone-200"></div></div>
                                <div class="w-12 h-12 rounded-full flex items-center justify-center border-2 border-dashed border-stone-300"><div class="w-full h-full rounded-full animate-pulse bg-stone-200"></div></div>
                            </div>
                            <p class="text-xl text-stone-500 font-serif">選擇你的生日，開啟專屬五行之旅</p>
                        </div>

                        <!-- Content State (Initially Hidden) -->
                        <div id="result-content" class="text-center animate-fade-in-up w-full hidden">
                             <div id="result-icon-container" class="w-32 h-32 mx-auto rounded-full flex items-center justify-center shadow-2xl mb-8 ring-8 ring-white">
                                <!-- Icon Injected Here -->
                             </div>
                             <h4 class="text-2xl text-stone-500 mb-2">您的生命靈數為 <span id="result-number" class="font-bold text-stone-800"></span></h4>
                             <h3 class="text-5xl font-serif font-bold text-stone-800 mb-6">屬性：<span id="result-element"></span></h3>
                             
                             <div class="bg-white p-6 rounded-2xl shadow-lg border border-stone-100 max-w-md mx-auto">
                                <p id="result-description" class="text-xl font-medium text-stone-700 mb-2"></p>
                                <p id="result-traits" class="text-stone-500"></p>
                             </div>
                             
                             <div class="mt-8 text-stone-400 text-sm">
                               <p>選擇你的生日，開啟專屬五行之旅</p>
                             </div>

                             <button onclick="resetCalculator()" class="mt-8 flex items-center justify-center gap-2 mx-auto text-stone-400 hover:text-stone-600 transition-colors">
                                <i data-lucide="refresh-cw" class="w-4 h-4"></i> 重新計算
                             </button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Exhibition Section -->
        <section id="exhibition" class="py-24 bg-white">
            <div class="container mx-auto px-6 md:px-12 lg:px-20">
                <div class="text-center mb-20 space-y-4">
                    <span class="bg-amber-100 text-amber-800 px-4 py-1 rounded-full text-sm font-bold tracking-wider">線上虛擬展覽</span>
                    <h2 class="text-4xl md:text-6xl font-serif font-bold text-stone-800">
                        沉浸式五行體驗<br/>
                        <span class="text-stone-600 italic text-3xl md:text-5xl mt-2 block">探索光影流芳的奧秘</span>
                    </h2>
                    <p class="text-stone-500 max-w-2xl mx-auto pt-4">
                        透過虛擬實境技術，在家也能身歷其境參與年會展覽。每個展區都對應不同的五行能量，等待您的探索。
                    </p>
                </div>

                <!-- Grid populated by JS -->
                <div id="exhibition-grid" class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer id="footer" class="bg-stone-900 text-stone-400 py-16">
        <div class="container mx-auto px-6 md:px-12 lg:px-20">
            <div class="grid md:grid-cols-4 gap-12 mb-12 border-b border-stone-800 pb-12">
            <div class="col-span-1 md:col-span-2 space-y-4">
                <h3 class="text-white text-2xl font-serif">2026 台灣精油芳療年會</h3>
                <p class="text-sm leading-relaxed max-w-md">
                致力於推廣正統芳香療法，結合東方五行哲學與西方科學實證，
                為現代人尋找身心平衡的自然處方。
                </p>
            </div>
            
            <div class="space-y-4">
                <h4 class="text-white font-bold tracking-wider text-sm uppercase">快速連結</h4>
                <ul class="space-y-2 text-sm">
                <li><a href="#" class="hover:text-amber-500 transition-colors">大會議程</a></li>
                <li><a href="#" class="hover:text-amber-500 transition-colors">講師陣容</a></li>
                <li><a href="#" className="hover:text-amber-500 transition-colors">購票資訊</a></li>
                <li><a href="#" className="hover:text-amber-500 transition-colors">常見問題</a></li>
                </ul>
            </div>

            <div class="space-y-4">
                <h4 class="text-white font-bold tracking-wider text-sm uppercase">聯絡我們</h4>
                <div class="flex space-x-4">
                <a href="#" class="w-10 h-10 rounded-full bg-stone-800 flex items-center justify-center hover:bg-amber-600 hover:text-white transition-all">
                    <i data-lucide="facebook" class="w-5 h-5"></i>
                </a>
                <a href="#" class="w-10 h-10 rounded-full bg-stone-800 flex items-center justify-center hover:bg-amber-600 hover:text-white transition-all">
                    <i data-lucide="instagram" class="w-5 h-5"></i>
                </a>
                <a href="#" class="w-10 h-10 rounded-full bg-stone-800 flex items-center justify-center hover:bg-amber-600 hover:text-white transition-all">
                    <i data-lucide="youtube" class="w-5 h-5"></i>
                </a>
                </div>
                <div class="flex items-center gap-2 text-sm mt-4">
                    <i data-lucide="mail" class="w-4 h-4"></i>
                    <span>contact@aroma2026.tw</span>
                </div>
            </div>
            </div>

            <div class="flex flex-col md:flex-row justify-between items-center text-xs">
            <p>&copy; 2026 Taiwan Aromatherapy Conference. All Rights Reserved.</p>
            <div class="flex space-x-6 mt-4 md:mt-0">
                <a href="#" class="hover:text-white">隱私權政策</a>
                <a href="#" class="hover:text-white">服務條款</a>
            </div>
            </div>
        </div>
    </footer>

    <!-- Logic Script -->
    <script>
        // --- Data Constants ---
        const ElementType = {
            Wood: 'Wood',
            Fire: 'Fire',
            Earth: 'Earth',
            Metal: 'Metal',
            Water: 'Water',
            Prologue: 'Prologue'
        };

        const EXHIBITION_DATA = [
            {
                id: 'prologue',
                type: ElementType.Prologue,
                title: "光影序章",
                subtitle: "了解五行哲學與芳療的連結",
                description: "前導區域",
                tag: "前導區域",
                color: "text-white",
                bgGradient: "from-stone-800 to-stone-600",
                imageUrl: "https://picsum.photos/id/10/800/600" 
            },
            {
                id: 'wood',
                type: ElementType.Wood,
                title: "木 · 生發之力",
                subtitle: "包含：植物能量配對遊戲",
                description: "木之展區",
                tag: "木之展區",
                color: "text-emerald-100",
                bgGradient: "from-emerald-600 to-teal-500",
                imageUrl: "https://picsum.photos/id/28/800/600" 
            },
            {
                id: 'fire',
                type: ElementType.Fire,
                title: "火 · 熱情之光",
                subtitle: "包含：香氣記憶挑戰",
                description: "火之展區",
                tag: "火之展區",
                color: "text-orange-100",
                bgGradient: "from-red-600 to-orange-500",
                imageUrl: "https://picsum.photos/id/312/800/600" 
            },
            {
                id: 'earth',
                type: ElementType.Earth,
                title: "土 · 穩定之基",
                subtitle: "包含：調香比例實驗",
                description: "土之展區",
                tag: "土之展區",
                color: "text-yellow-100",
                bgGradient: "from-yellow-600 to-amber-500",
                imageUrl: "https://picsum.photos/id/106/800/600" 
            },
            {
                id: 'metal',
                type: ElementType.Metal,
                title: "金 · 收斂之質",
                subtitle: "包含：精油分子探索",
                description: "金之展區",
                tag: "金之展區",
                color: "text-gray-100",
                bgGradient: "from-slate-500 to-gray-400",
                imageUrl: "https://picsum.photos/id/250/800/600" 
            },
            {
                id: 'water',
                type: ElementType.Water,
                title: "水 · 流動之韻",
                subtitle: "包含：冥想引導體驗",
                description: "水之展區",
                tag: "水之展區",
                color: "text-blue-100",
                bgGradient: "from-blue-600 to-cyan-500",
                imageUrl: "https://picsum.photos/id/486/800/600" 
            },
        ];

        const ELEMENT_MAPPING = {
            1: { element: ElementType.Water, description: "獨立與創新的開拓者", traits: "流動、智慧、適應力強", color: "bg-blue-600", icon: "droplets" },
            2: { element: ElementType.Earth, description: "協調與合作的平衡者", traits: "穩定、包容、滋養萬物", color: "bg-yellow-600", icon: "mountain" },
            3: { element: ElementType.Wood, description: "創意與表達的藝術家", traits: "生長、仁慈、向上發展", color: "bg-emerald-500", icon: "leaf" },
            4: { element: ElementType.Metal, description: "秩序與穩定的建設者", traits: "堅毅、果斷、收斂沉穩", color: "bg-slate-500", icon: "circle-dashed" },
            5: { element: ElementType.Fire, description: "自由與變化的冒險家", traits: "熱情、光明、禮節周到", color: "bg-orange-500", icon: "flame" },
            6: { element: ElementType.Metal, description: "關懷與責任的療癒者", traits: "奉獻、正義、精煉純粹", color: "bg-slate-500", icon: "circle-dashed" },
            7: { element: ElementType.Water, description: "分析與真理的探求者", traits: "深沉、內省、源遠流長", color: "bg-blue-600", icon: "droplets" },
            8: { element: ElementType.Earth, description: "權力與豐盛的管理者", traits: "務實、承載、信用可靠", color: "bg-yellow-600", icon: "mountain" },
            9: { element: ElementType.Fire, description: "智慧與人道的慈善家", traits: "昇華、明理、照耀四方", color: "bg-orange-500", icon: "flame" },
        };

        // --- Navbar Logic ---
        const navbar = document.getElementById('navbar');
        const mobileMenu = document.getElementById('mobile-menu');
        const mobileMenuBtn = document.getElementById('mobile-menu-btn');
        let isMobileMenuOpen = false;

        window.addEventListener('scroll', () => {
            if (window.scrollY > 50) {
                navbar.classList.add('bg-stone-900/90', 'backdrop-blur-md', 'shadow-lg', 'py-3');
                navbar.classList.remove('bg-transparent', 'py-6');
            } else {
                navbar.classList.remove('bg-stone-900/90', 'backdrop-blur-md', 'shadow-lg', 'py-3');
                navbar.classList.add('bg-transparent', 'py-6');
            }
        });

        function scrollToSection(id) {
            isMobileMenuOpen = false;
            mobileMenu.classList.add('hidden');
            const icon = mobileMenuBtn.querySelector('svg');
            // Reset icon logic would go here if re-rendering icons manually, 
            // but relying on initial state is fine for simple landing page
            
            const element = document.getElementById(id);
            if (element) {
                element.scrollIntoView({ behavior: 'smooth' });
            }
        }

        function toggleMobileMenu() {
            isMobileMenuOpen = !isMobileMenuOpen;
            if (isMobileMenuOpen) {
                mobileMenu.classList.remove('hidden');
                // Change icon to X (simulated)
                mobileMenuBtn.innerHTML = '<i data-lucide="x"></i>';
            } else {
                mobileMenu.classList.add('hidden');
                mobileMenuBtn.innerHTML = '<i data-lucide="menu"></i>';
            }
            lucide.createIcons();
        }

        // --- Calculator Logic ---
        const yearSelect = document.getElementById('calc-year');
        const monthSelect = document.getElementById('calc-month');
        const daySelect = document.getElementById('calc-day');
        const calcBtn = document.getElementById('calc-btn');

        // Populate Selects
        for (let i = 2024; i >= 1944; i--) {
            const opt = document.createElement('option');
            opt.value = i;
            opt.innerText = i;
            yearSelect.appendChild(opt);
        }
        for (let i = 1; i <= 12; i++) {
            const val = String(i).padStart(2, '0');
            const opt = document.createElement('option');
            opt.value = val;
            opt.innerText = val;
            monthSelect.appendChild(opt);
        }
        for (let i = 1; i <= 31; i++) {
            const val = String(i).padStart(2, '0');
            const opt = document.createElement('option');
            opt.value = val;
            opt.innerText = val;
            daySelect.appendChild(opt);
        }

        // Enable button listener
        function checkInputs() {
            if (yearSelect.value && monthSelect.value && daySelect.value) {
                calcBtn.disabled = false;
            } else {
                calcBtn.disabled = true;
            }
        }
        yearSelect.addEventListener('change', checkInputs);
        monthSelect.addEventListener('change', checkInputs);
        daySelect.addEventListener('change', checkInputs);

        function calculateLifePath() {
            const year = yearSelect.value;
            const month = monthSelect.value;
            const day = daySelect.value;
            
            if (!year || !month || !day) return;

            const fullString = `${year}${month}${day}`;
            let sum = 0;
            for (const char of fullString) sum += parseInt(char);

            while (sum > 9) {
                let temp = 0;
                String(sum).split('').forEach(n => temp += parseInt(n));
                sum = temp;
            }

            const res = ELEMENT_MAPPING[sum];
            if (res) {
                renderResult(sum, res);
            }
        }

        function renderResult(number, data) {
            document.getElementById('result-empty').classList.add('hidden');
            const content = document.getElementById('result-content');
            content.classList.remove('hidden');

            // Update Text
            document.getElementById('result-number').innerText = number;
            document.getElementById('result-element').innerText = data.element;
            document.getElementById('result-description').innerText = data.description;
            document.getElementById('result-traits').innerText = data.traits;

            // Update Icon & Color
            const iconContainer = document.getElementById('result-icon-container');
            iconContainer.className = `w-32 h-32 mx-auto rounded-full ${data.color} flex items-center justify-center shadow-2xl mb-8 ring-8 ring-white`;
            iconContainer.innerHTML = `<i data-lucide="${data.icon}" class="w-16 h-16 text-white"></i>`;

            // Refresh icons for the new content
            lucide.createIcons();
        }

        function resetCalculator() {
            document.getElementById('result-content').classList.add('hidden');
            document.getElementById('result-empty').classList.remove('hidden');
            yearSelect.value = "";
            monthSelect.value = "";
            daySelect.value = "";
            calcBtn.disabled = true;
        }

        // --- Exhibition Logic ---
        const exhibitionGrid = document.getElementById('exhibition-grid');
        
        EXHIBITION_DATA.forEach(data => {
            const cardHTML = `
            <div class="group relative overflow-hidden rounded-[2rem] h-[500px] cursor-pointer shadow-xl transition-all duration-500 hover:shadow-2xl hover:-translate-y-2">
                <!-- Background Image -->
                <img 
                    src="${data.imageUrl}" 
                    alt="${data.title}" 
                    class="absolute inset-0 w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"
                />
                
                <!-- Gradient Overlay -->
                <div class="absolute inset-0 bg-gradient-to-t ${data.bgGradient} opacity-80 mix-blend-multiply transition-opacity duration-300 group-hover:opacity-90"></div>
                <div class="absolute inset-0 bg-gradient-to-b from-transparent via-transparent to-black/60"></div>

                <!-- Content -->
                <div class="absolute inset-0 p-8 flex flex-col justify-between">
                    <div class="flex justify-start">
                    <span class="bg-white/20 backdrop-blur-md px-4 py-1 rounded-full text-xs font-bold text-white tracking-widest uppercase border border-white/10">
                        ${data.tag}
                    </span>
                    </div>

                    <div class="transform translate-y-4 transition-transform duration-500 group-hover:translate-y-0">
                    <h3 class="text-4xl font-serif font-bold mb-2 ${data.color} drop-shadow-md">
                        ${data.title}
                    </h3>
                    <p class="text-white/80 text-lg mb-8 font-light tracking-wide">
                        ${data.subtitle}
                    </p>
                    
                    <button class="flex items-center gap-2 bg-white/20 hover:bg-white/30 backdrop-blur-md border border-white/40 text-white px-6 py-3 rounded-full transition-all duration-300 group-hover:pl-8">
                        進入體驗 <i data-lucide="arrow-right" class="w-4 h-4"></i>
                    </button>
                    </div>
                </div>
            </div>
            `;
            exhibitionGrid.insertAdjacentHTML('beforeend', cardHTML);
        });

        // Initialize Icons
        lucide.createIcons();

    </script>
</body>
</html>
